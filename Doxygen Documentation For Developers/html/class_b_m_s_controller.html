<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: BMSController Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('class_b_m_s_controller.html','','class_b_m_s_controller-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">BMSController Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A class to control and monitor a Battery Management System via I2C communication.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_b_m_s_controller_8h_source.html">BMSController.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af7c9b9a742729e837f5c5de093bf0798" id="r_af7c9b9a742729e837f5c5de093bf0798"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af7c9b9a742729e837f5c5de093bf0798">BMSController</a> (uint8_t i2cAddress)</td></tr>
<tr class="memdesc:af7c9b9a742729e837f5c5de093bf0798"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for <a class="el" href="class_b_m_s_controller.html" title="A class to control and monitor a Battery Management System via I2C communication.">BMSController</a>.  <br /></td></tr>
<tr class="memitem:ad0330c551bd2763d0bbc61edcb687805" id="r_ad0330c551bd2763d0bbc61edcb687805"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad0330c551bd2763d0bbc61edcb687805">begin</a> ()</td></tr>
<tr class="memdesc:ad0330c551bd2763d0bbc61edcb687805"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the BMS controller and establish I2C communication.  <br /></td></tr>
<tr class="memitem:a4e7d5ccb50f7abcc86ce3e7b98300ac0" id="r_a4e7d5ccb50f7abcc86ce3e7b98300ac0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4e7d5ccb50f7abcc86ce3e7b98300ac0">setChargeVoltage</a> (float volts)</td></tr>
<tr class="memdesc:a4e7d5ccb50f7abcc86ce3e7b98300ac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the target charging voltage.  <br /></td></tr>
<tr class="memitem:ad31491af47be0dce070aa5cc27732db9" id="r_ad31491af47be0dce070aa5cc27732db9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad31491af47be0dce070aa5cc27732db9">setVsysMin</a> (float volts)</td></tr>
<tr class="memdesc:ad31491af47be0dce070aa5cc27732db9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the minimum system voltage.  <br /></td></tr>
<tr class="memitem:ac107ee28124114383c4a56118051b118" id="r_ac107ee28124114383c4a56118051b118"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac107ee28124114383c4a56118051b118">setInputVoltageLimit</a> (float volts)</td></tr>
<tr class="memdesc:ac107ee28124114383c4a56118051b118"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the input voltage limit.  <br /></td></tr>
<tr class="memitem:afe853e0f61f5a97e080307f34c9f8394" id="r_afe853e0f61f5a97e080307f34c9f8394"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe853e0f61f5a97e080307f34c9f8394">setChargeCurrent</a> (float amps)</td></tr>
<tr class="memdesc:afe853e0f61f5a97e080307f34c9f8394"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the charging current limit.  <br /></td></tr>
<tr class="memitem:a33a8d303d5ee5c97bbb9879cbbd0867b" id="r_a33a8d303d5ee5c97bbb9879cbbd0867b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a33a8d303d5ee5c97bbb9879cbbd0867b">setInputCurrentLimit</a> (float milliamps)</td></tr>
<tr class="memdesc:a33a8d303d5ee5c97bbb9879cbbd0867b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the input current limit.  <br /></td></tr>
<tr class="memitem:ad832939c3deb3df7146b43766eed45ec" id="r_ad832939c3deb3df7146b43766eed45ec"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad832939c3deb3df7146b43766eed45ec">setCellMaxCutOffV</a> (float volts)</td></tr>
<tr class="memdesc:ad832939c3deb3df7146b43766eed45ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the maximum cell voltage cutoff threshold.  <br /></td></tr>
<tr class="memitem:a346b4d5662b9616e7b75f35b68f95341" id="r_a346b4d5662b9616e7b75f35b68f95341"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a346b4d5662b9616e7b75f35b68f95341">setCellMinCutOffV</a> (float volts)</td></tr>
<tr class="memdesc:a346b4d5662b9616e7b75f35b68f95341"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the minimum cell voltage cutoff threshold.  <br /></td></tr>
<tr class="memitem:adc74dd9a0c2f5e2714a3abb3b841b5fe" id="r_adc74dd9a0c2f5e2714a3abb3b841b5fe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc74dd9a0c2f5e2714a3abb3b841b5fe">setPack_stock_capacity</a> (float mAh)</td></tr>
<tr class="memdesc:adc74dd9a0c2f5e2714a3abb3b841b5fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the battery pack stock capacity.  <br /></td></tr>
<tr class="memitem:af55434020be31e887cca12ac7f6f1fa3" id="r_af55434020be31e887cca12ac7f6f1fa3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af55434020be31e887cca12ac7f6f1fa3">FinishedConfiguration</a> (bool completed)</td></tr>
<tr class="memdesc:af55434020be31e887cca12ac7f6f1fa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal that configuration is complete.  <br /></td></tr>
<tr class="memitem:a8ff475067323d04b70fd4577e486be47" id="r_a8ff475067323d04b70fd4577e486be47"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ff475067323d04b70fd4577e486be47">getChargeCurrent</a> ()</td></tr>
<tr class="memdesc:a8ff475067323d04b70fd4577e486be47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current charging current.  <br /></td></tr>
<tr class="memitem:a11802cf68db62fc066c5efabb49088c9" id="r_a11802cf68db62fc066c5efabb49088c9"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11802cf68db62fc066c5efabb49088c9">getCell1Voltage</a> ()</td></tr>
<tr class="memdesc:a11802cf68db62fc066c5efabb49088c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the voltage of cell 1.  <br /></td></tr>
<tr class="memitem:ae81e2abb3b872e474876fd14098b2ab5" id="r_ae81e2abb3b872e474876fd14098b2ab5"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae81e2abb3b872e474876fd14098b2ab5">getCell2Voltage</a> ()</td></tr>
<tr class="memdesc:ae81e2abb3b872e474876fd14098b2ab5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the voltage of cell 2.  <br /></td></tr>
<tr class="memitem:a75ccacd13aa6d85c9db2b4426603c055" id="r_a75ccacd13aa6d85c9db2b4426603c055"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a75ccacd13aa6d85c9db2b4426603c055">getCell3Voltage</a> ()</td></tr>
<tr class="memdesc:a75ccacd13aa6d85c9db2b4426603c055"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the voltage of cell 3.  <br /></td></tr>
<tr class="memitem:a6a7f66e0d3d7ff8138a30e09c384d3a6" id="r_a6a7f66e0d3d7ff8138a30e09c384d3a6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a7f66e0d3d7ff8138a30e09c384d3a6">getCell4Voltage</a> ()</td></tr>
<tr class="memdesc:a6a7f66e0d3d7ff8138a30e09c384d3a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the voltage of cell 4.  <br /></td></tr>
<tr class="memitem:ab5769d140538abeeb263f5e4f230a893" id="r_ab5769d140538abeeb263f5e4f230a893"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab5769d140538abeeb263f5e4f230a893">getTotalPackVoltage</a> ()</td></tr>
<tr class="memdesc:ab5769d140538abeeb263f5e4f230a893"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total battery pack voltage.  <br /></td></tr>
<tr class="memitem:acf1b248dec4fe80deb26ebed401e900a" id="r_acf1b248dec4fe80deb26ebed401e900a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acf1b248dec4fe80deb26ebed401e900a">getSoC</a> ()</td></tr>
<tr class="memdesc:acf1b248dec4fe80deb26ebed401e900a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the State of Charge in absolute units.  <br /></td></tr>
<tr class="memitem:ace696a62fe235c4432ad8cf6393def18" id="r_ace696a62fe235c4432ad8cf6393def18"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace696a62fe235c4432ad8cf6393def18">getPercentSoC</a> ()</td></tr>
<tr class="memdesc:ace696a62fe235c4432ad8cf6393def18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the State of Charge as a percentage.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class to control and monitor a Battery Management System via I2C communication. </p>
<p>This class provides methods to configure charging parameters, voltage limits, current limits, and monitor individual cell voltages and state of charge. </p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af7c9b9a742729e837f5c5de093bf0798" name="af7c9b9a742729e837f5c5de093bf0798"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7c9b9a742729e837f5c5de093bf0798">&#9670;&#160;</a></span>BMSController()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BMSController::BMSController </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>i2cAddress</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for <a class="el" href="class_b_m_s_controller.html" title="A class to control and monitor a Battery Management System via I2C communication.">BMSController</a>. </p>
<p>Constructor for <a class="el" href="class_b_m_s_controller.html" title="A class to control and monitor a Battery Management System via I2C communication.">BMSController</a> class.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i2cAddress</td><td>The I2C address of the BMS device</td></tr>
  </table>
  </dd>
</dl>
<p>Initializes the <a class="el" href="class_b_m_s_controller.html" title="A class to control and monitor a Battery Management System via I2C communication.">BMSController</a> with the specified I2C address and sets up the I2C communication interface.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i2cAddress</td><td>I2C slave address of the BMS device (7-bit address)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Wire.begin() is called during construction to initialize I2C </dd></dl>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="ad0330c551bd2763d0bbc61edcb687805" name="ad0330c551bd2763d0bbc61edcb687805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0330c551bd2763d0bbc61edcb687805">&#9670;&#160;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BMSController::begin </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the BMS controller and establish I2C communication. </p>
<p>Initialize communication with the BMS device.</p>
<dl class="section return"><dt>Returns</dt><dd>true if initialization successful, false otherwise</dd></dl>
<p>Tests communication with the BMS by attempting to establish an I2C connection. This function should be called after construction to verify the device is responding on the specified address.</p>
<dl class="section return"><dt>Returns</dt><dd>true if BMS device responds to I2C communication </dd>
<dd>
false if no response from BMS device</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function reinitializes Wire.begin() for safety </dd></dl>

</div>
</div>
<a id="af55434020be31e887cca12ac7f6f1fa3" name="af55434020be31e887cca12ac7f6f1fa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af55434020be31e887cca12ac7f6f1fa3">&#9670;&#160;</a></span>FinishedConfiguration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BMSController::FinishedConfiguration </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>completed</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal that configuration is complete. </p>
<p>Signal completion of BMS configuration.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">completed</td><td>true if configuration is finished, false otherwise </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command sent successfully, false otherwise</dd></dl>
<p>Sends a configuration completion signal to the BMS to indicate that all configuration parameters have been set and the system should transition to operational mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">completed</td><td>Configuration completion status (true = completed) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if completed is true and command was sent </dd>
<dd>
false if completed is false or transmission failed</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Command code: 0x19 </dd>
<dd>
Only sends command if completed parameter is true </dd></dl>

</div>
</div>
<a id="a11802cf68db62fc066c5efabb49088c9" name="a11802cf68db62fc066c5efabb49088c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11802cf68db62fc066c5efabb49088c9">&#9670;&#160;</a></span>getCell1Voltage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float BMSController::getCell1Voltage </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the voltage of cell 1. </p>
<dl class="section return"><dt>Returns</dt><dd>The voltage of cell 1 in volts</dd></dl>
<p>Retrieves the voltage measurement of the first cell in the battery pack.</p>
<dl class="section return"><dt>Returns</dt><dd>Cell 1 voltage in volts </dd>
<dd>
-1.0 if communication error</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Command code: 0x01 </dd>
<dd>
Calculated as: PackVoltage - INA_0x44_VOLTAGE </dd></dl>

</div>
</div>
<a id="ae81e2abb3b872e474876fd14098b2ab5" name="ae81e2abb3b872e474876fd14098b2ab5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae81e2abb3b872e474876fd14098b2ab5">&#9670;&#160;</a></span>getCell2Voltage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float BMSController::getCell2Voltage </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the voltage of cell 2. </p>
<dl class="section return"><dt>Returns</dt><dd>The voltage of cell 2 in volts</dd></dl>
<p>Retrieves the voltage measurement of the second cell in the battery pack.</p>
<dl class="section return"><dt>Returns</dt><dd>Cell 2 voltage in volts </dd>
<dd>
-1.0 if communication error</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Command code: 0x02 </dd>
<dd>
Calculated as: INA_0x44_VOLTAGE - INA_0x41_VOLTAGE </dd></dl>

</div>
</div>
<a id="a75ccacd13aa6d85c9db2b4426603c055" name="a75ccacd13aa6d85c9db2b4426603c055"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75ccacd13aa6d85c9db2b4426603c055">&#9670;&#160;</a></span>getCell3Voltage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float BMSController::getCell3Voltage </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the voltage of cell 3. </p>
<dl class="section return"><dt>Returns</dt><dd>The voltage of cell 3 in volts</dd></dl>
<p>Retrieves the voltage measurement of the third cell in the battery pack.</p>
<dl class="section return"><dt>Returns</dt><dd>Cell 3 voltage in volts </dd>
<dd>
-1.0 if communication error</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Command code: 0x03 </dd>
<dd>
Calculated as: INA_0x41_VOLTAGE - INA_0x40_VOLTAGE </dd></dl>

</div>
</div>
<a id="a6a7f66e0d3d7ff8138a30e09c384d3a6" name="a6a7f66e0d3d7ff8138a30e09c384d3a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a7f66e0d3d7ff8138a30e09c384d3a6">&#9670;&#160;</a></span>getCell4Voltage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float BMSController::getCell4Voltage </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the voltage of cell 4. </p>
<dl class="section return"><dt>Returns</dt><dd>The voltage of cell 4 in volts</dd></dl>
<p>Retrieves the voltage measurement of the fourth cell in the battery pack.</p>
<dl class="section return"><dt>Returns</dt><dd>Cell 4 voltage in volts </dd>
<dd>
-1.0 if communication error</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Command code: 0x04 </dd>
<dd>
Directly reads INA_0x40_VOLTAGE </dd></dl>

</div>
</div>
<a id="a8ff475067323d04b70fd4577e486be47" name="a8ff475067323d04b70fd4577e486be47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ff475067323d04b70fd4577e486be47">&#9670;&#160;</a></span>getChargeCurrent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float BMSController::getChargeCurrent </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current charging current. </p>
<p>Get the current charge/discharge current of the battery pack.</p>
<dl class="section return"><dt>Returns</dt><dd>The charging current in amperes</dd></dl>
<p>Retrieves the instantaneous current flowing into (positive) or out of (negative) the battery pack.</p>
<dl class="section return"><dt>Returns</dt><dd>Current in amperes (positive = charging, negative = discharging) </dd>
<dd>
-1.0 if communication error</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Command code: 0x06 </dd></dl>

</div>
</div>
<a id="ace696a62fe235c4432ad8cf6393def18" name="ace696a62fe235c4432ad8cf6393def18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace696a62fe235c4432ad8cf6393def18">&#9670;&#160;</a></span>getPercentSoC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float BMSController::getPercentSoC </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the State of Charge as a percentage. </p>
<dl class="section return"><dt>Returns</dt><dd>The State of Charge as a percentage (0-100%)</dd></dl>
<p>Calculates and returns the State of Charge as a percentage of the configured pack capacity. Requires <a class="el" href="#adc74dd9a0c2f5e2714a3abb3b841b5fe" title="Set the battery pack stock capacity.">setPack_stock_capacity()</a> to have been called previously with the correct pack capacity.</p>
<dl class="section return"><dt>Returns</dt><dd>State of Charge as percentage (0-100%) </dd>
<dd>
Calculated percentage based on SoCGiven capacity</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Calculation: (current_SoC / SoCGiven) * 100 </dd>
<dd>
Requires SoCGiven to be set via <a class="el" href="#adc74dd9a0c2f5e2714a3abb3b841b5fe" title="Set the battery pack stock capacity.">setPack_stock_capacity()</a> </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Returns invalid result if SoCGiven is 0 or not set</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#acf1b248dec4fe80deb26ebed401e900a" title="Get the State of Charge in absolute units.">getSoC()</a> </dd>
<dd>
<a class="el" href="#adc74dd9a0c2f5e2714a3abb3b841b5fe" title="Set the battery pack stock capacity.">setPack_stock_capacity()</a> </dd></dl>

</div>
</div>
<a id="acf1b248dec4fe80deb26ebed401e900a" name="acf1b248dec4fe80deb26ebed401e900a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf1b248dec4fe80deb26ebed401e900a">&#9670;&#160;</a></span>getSoC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float BMSController::getSoC </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the State of Charge in absolute units. </p>
<dl class="section return"><dt>Returns</dt><dd>The State of Charge value</dd></dl>
<p>Retrieves the current State of Charge measurement from the BMS in the original units (typically mAh).</p>
<dl class="section return"><dt>Returns</dt><dd>State of Charge in absolute units (mAh) </dd>
<dd>
-1.0 if communication error</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Command code: 0x08 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ace696a62fe235c4432ad8cf6393def18" title="Get the State of Charge as a percentage.">getPercentSoC()</a> for percentage-based SoC </dd></dl>

</div>
</div>
<a id="ab5769d140538abeeb263f5e4f230a893" name="ab5769d140538abeeb263f5e4f230a893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5769d140538abeeb263f5e4f230a893">&#9670;&#160;</a></span>getTotalPackVoltage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float BMSController::getTotalPackVoltage </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the total battery pack voltage. </p>
<p>Get the total voltage of the battery pack.</p>
<dl class="section return"><dt>Returns</dt><dd>The total pack voltage in volts</dd></dl>
<p>Retrieves the combined voltage measurement of all cells in series.</p>
<dl class="section return"><dt>Returns</dt><dd>Total pack voltage in volts </dd>
<dd>
-1.0 if communication error</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Command code: 0x05 </dd></dl>

</div>
</div>
<a id="ad832939c3deb3df7146b43766eed45ec" name="ad832939c3deb3df7146b43766eed45ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad832939c3deb3df7146b43766eed45ec">&#9670;&#160;</a></span>setCellMaxCutOffV()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BMSController::setCellMaxCutOffV </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>volts</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the maximum cell voltage cutoff threshold. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">volts</td><td>The maximum cell voltage cutoff in volts </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command sent successfully, false otherwise</dd></dl>
<p>Configures the voltage at which individual cells should be considered fully charged and charging should be terminated to prevent damage.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">volts</td><td>Maximum cell voltage in volts </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command was sent successfully </dd>
<dd>
false if transmission failed</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Command code: 0x16 </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Critical safety parameter - must match battery chemistry </dd></dl>

</div>
</div>
<a id="a346b4d5662b9616e7b75f35b68f95341" name="a346b4d5662b9616e7b75f35b68f95341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a346b4d5662b9616e7b75f35b68f95341">&#9670;&#160;</a></span>setCellMinCutOffV()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BMSController::setCellMinCutOffV </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>volts</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the minimum cell voltage cutoff threshold. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">volts</td><td>The minimum cell voltage cutoff in volts </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command sent successfully, false otherwise</dd></dl>
<p>Configures the voltage below which individual cells should be considered discharged and further discharge should be prevented to avoid damage.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">volts</td><td>Minimum cell voltage in volts </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command was sent successfully </dd>
<dd>
false if transmission failed</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Command code: 0x17 </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Critical safety parameter - prevents deep discharge damage </dd></dl>

</div>
</div>
<a id="afe853e0f61f5a97e080307f34c9f8394" name="afe853e0f61f5a97e080307f34c9f8394"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe853e0f61f5a97e080307f34c9f8394">&#9670;&#160;</a></span>setChargeCurrent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BMSController::setChargeCurrent </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>amps</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the charging current limit. </p>
<p>Set the maximum charge current limit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">amps</td><td>The charging current limit in amperes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command sent successfully, false otherwise</dd></dl>
<p>Configures the maximum current that should be used during charging. This parameter is crucial for battery safety and longevity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">amps</td><td>Maximum charge current in amperes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command was sent successfully </dd>
<dd>
false if transmission failed</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Command code: 0x14 </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Ensure current is within battery specifications </dd></dl>

</div>
</div>
<a id="a4e7d5ccb50f7abcc86ce3e7b98300ac0" name="a4e7d5ccb50f7abcc86ce3e7b98300ac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e7d5ccb50f7abcc86ce3e7b98300ac0">&#9670;&#160;</a></span>setChargeVoltage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BMSController::setChargeVoltage </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>volts</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the target charging voltage. </p>
<p>Set the charge voltage limit for the battery pack.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">volts</td><td>The charging voltage in volts </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command sent successfully, false otherwise</dd></dl>
<p>Configures the maximum voltage that the battery pack should be charged to. This is a critical safety parameter that prevents overcharging.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">volts</td><td>Charge voltage limit in volts </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command was sent successfully </dd>
<dd>
false if transmission failed</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Command code: 0x10 </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Ensure voltage is within safe limits for your battery chemistry </dd></dl>

</div>
</div>
<a id="a33a8d303d5ee5c97bbb9879cbbd0867b" name="a33a8d303d5ee5c97bbb9879cbbd0867b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33a8d303d5ee5c97bbb9879cbbd0867b">&#9670;&#160;</a></span>setInputCurrentLimit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BMSController::setInputCurrentLimit </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>milliamps</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the input current limit. </p>
<p>Set the input current limit from power supply.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">milliamps</td><td>The input current limit in milliamperes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command sent successfully, false otherwise</dd></dl>
<p>Configures the maximum current that can be drawn from the input power supply. This prevents overloading the power source during charging.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">milliamps</td><td>Input current limit in milliamperes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command was sent successfully </dd>
<dd>
false if transmission failed</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Command code: 0x15 </dd>
<dd>
Parameter is in milliamperes, not amperes </dd></dl>

</div>
</div>
<a id="ac107ee28124114383c4a56118051b118" name="ac107ee28124114383c4a56118051b118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac107ee28124114383c4a56118051b118">&#9670;&#160;</a></span>setInputVoltageLimit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BMSController::setInputVoltageLimit </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>volts</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the input voltage limit. </p>
<p>Set the input voltage limit for charging.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">volts</td><td>The input voltage limit in volts </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command sent successfully, false otherwise</dd></dl>
<p>Configures the maximum input voltage that the charging system will accept. This helps protect against overvoltage conditions from the power supply.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">volts</td><td>Input voltage limit in volts </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command was sent successfully </dd>
<dd>
false if transmission failed</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Command code: 0x13 </dd></dl>

</div>
</div>
<a id="adc74dd9a0c2f5e2714a3abb3b841b5fe" name="adc74dd9a0c2f5e2714a3abb3b841b5fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc74dd9a0c2f5e2714a3abb3b841b5fe">&#9670;&#160;</a></span>setPack_stock_capacity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BMSController::setPack_stock_capacity </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>mAh</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the battery pack stock capacity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mAh</td><td>The battery pack capacity in milliampere-hours </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command sent successfully, false otherwise</dd></dl>
<p>Configures the nominal capacity of the battery pack in mAh. This value is used for State of Charge calculations and capacity tracking. This function also triggers the final configuration check on the BMS.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mAh</td><td>Battery pack capacity in milliamp-hours </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command was sent successfully </dd>
<dd>
false if transmission failed</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Command code: 0x18 </dd>
<dd>
Sets global SoCGiven variable for percentage calculations </dd>
<dd>
This command triggers <a class="el" href="group___b_q25730___functions.html#ga5708add1ce23a932ff6c9f64cb84ae06" title="Performs final configuration check and saves settings to EEPROM.">ConfigCheck()</a> on the BMS side </dd></dl>

</div>
</div>
<a id="ad31491af47be0dce070aa5cc27732db9" name="ad31491af47be0dce070aa5cc27732db9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad31491af47be0dce070aa5cc27732db9">&#9670;&#160;</a></span>setVsysMin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BMSController::setVsysMin </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>volts</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the minimum system voltage. </p>
<p>Set the minimum system voltage threshold.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">volts</td><td>The minimum system voltage in volts </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command sent successfully, false otherwise</dd></dl>
<p>Configures the minimum voltage below which the system should take protective action to prevent deep discharge damage.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">volts</td><td>Minimum system voltage in volts </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command was sent successfully </dd>
<dd>
false if transmission failed</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Command code: 0x11 </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_b_m_s_controller_8h_source.html">BMSController.h</a></li>
<li><a class="el" href="_b_m_s_controller_8cpp.html">BMSController.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="class_b_m_s_controller.html">BMSController</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
